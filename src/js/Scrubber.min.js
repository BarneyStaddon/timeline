/* Scrubber class */
function Scrubber(o){var r=$(".progress-bar"),t=$(".scrubber"),o=o,e=0,i=""
this.init=function(){n("0%","0px"),t.on("touchstart mousedown",u)},this.moveScrubber=function(){var r=Math.abs(o.scroll.x),t=Math.floor(o.duration*o.yearWidth)-window.innerWidth
min=0,scrubberWidth=r/(t/100),n(scrubberWidth+"%",scrubberWidth+"%")}
var n=function(o,e){r.css("width",o),t.css("left",e)},u=function(r){o.markerOpen||""!=i||(i=r.type,$("body").on("touchend mouseup",c),$("body").on("touchmove mousemove",s))},c=function(o){$("body").off("touchend mouseup",c),$("body").off("touchmove mousemove",s),e=0,i=""},s=function(o){var r="mousemove"==o.type?o.pageX:o.originalEvent.touches[0].pageX||o.originalEvent.changedTouches[0].pageX
max=window.innerWidth,min=0,scrubberWidth=r/(max/100),scrubberX=Math.floor(e+r),scrubberWidth<0?(n("0%","0px"),b(0)):scrubberWidth>100?(n("100%",window.innerWidth+"px"),b(100)):(n(scrubberWidth+"%",scrubberX+"px"),b(scrubberWidth))},b=function(r){var t=Math.floor(o.duration*o.yearWidth)-window.innerWidth,e=Math.floor(t/100*r)
o.scroll.scrollTo(0-e,0)}
this.init()}